# 功能追踪与开发进度 (Feature Tracker)
> 最后更新时间: 2026-02-06

## 🏆 已完成功能 (Completed)

### 1. 开发环境与基础架构
- [x] **项目初始化**: 技术栈确立 (Electron + React + TypeScript + Vite)。
- [x] **状态管理**: 建立了持久化的 ProjectStore 和运行时的 EditorStore (Zustand + Immer)。
- [x] **测试环境**: 集成 Jest (单元测试) 和 Playwright (E2E)。
- [x] **镜像加速**: 配置了 npmmirror 和 Electron 国内下载镜像。

### 2. 文件管理器 (File Manager - Phase 1)
- [x] **项目加载**: 支持通过原生对话框打开本地项目文件夹。
- [x] **文件扫描**: 自动递归/平铺扫描目录下的所有 `.csv` 文件。
- [x] **智能解析**:
  - 自动检测编码 (UTF-8, GBK 等)。
  - 遵循 RFC 4180 标准解析 CSV。
- [x] **列表展示**: 侧边栏展示文件名、选中状态、未保存标记 (*)。

### 3. 表格核心编辑器 (Editor Core - Phase 2)
- [x] **海量数据渲染**: 使用虚拟滚动 (`react-window`)，支持 50,000+ 行流畅滚动。
- [x] **多列支持**: 自动解析表头，动态渲染多列网格。
- [x] **滚动同步**: 实现了表头与数据内容的横向滚动精确同步。
- [x] **单元格交互**:
  - 点击选中单元格并高亮。
  - Key 值 (第一列) 自动校验 (空值、非法字符红框预警)。
- [x] **富文本编辑器**:
  - 集成 CodeMirror 6。
  - **TMP 标签 Typora 式渲染**: 光标在内显示源码+语法高亮，光标离开隐藏标签并渲染样式效果。
  - 支持 27+ 种 TMP 标签 (`<b>`, `<i>`, `<color>`, `<size>`, `<u>` 等)。
  - 双向同步: 编辑文本实时同步到表格数据。
  - 自动换行: 支持长文本自动折行。
  - **可调整高度**: 拖动分隔条调整表格与编辑栏的高度比例。

### 4. 功能面板 (Function Panel - Phase 3)
- [x] **布局架构**: 实现了选项卡切换。
- [x] **查找与替换**:
  - 支持字符串/正则表达式。
  - **模糊搜索**: 普通模式下支持空格分词多关键字匹配 (类似 Unity)。
  - 支持单文件/全项目搜索。
  - **自动定位**: 点击结果自动跳转、滚动并高亮单元格。
  - **批量替换**: 跨文件执行“全部替换”。
- [x] **全局校验**: Key 重复性检测、未翻译项快速定位。

### 5. 数据持久化与校验
- [x] **自动校验**: 后台实时检测 Key 重复 (Real-time Indexing)。
- [x] **文件保存**: 将修改写回 `.csv` 文件 (Manual + Auto-save)。

### 6. 高级表格操作 (Advanced Table Operations - Phase 4)
- [x] **行号栏 (Row Headers)**: 左侧固定行号，支持整行选中、Shift多选。
- [x] **上下文菜单**: 右键菜单支持 批量 插入/删除行、列，支持指定数量插入。
- [x] **数据操作**: 实现多行/多列的 Store Actions (batch operations)。
- [x] **剪贴板增强**: 实现多单元格/整行的复制粘贴 (Ctrl+C/V)，兼容 Excel/TSV。

### 7. 交互增强 (Interaction - Phase 5)
- [x] **智能填充 (Fill Handle)**: 选中区域右下角的拖动手柄，支持向下拖动复制/填充。
  - 支持模式: 纯数字递增 (1,2->3)、文本后缀递增 (Item 1->Item 2)、循环填充 (A,B,A,B)。
- [x] **自动填充选项 (Auto Fill Options)**: 填充后支持菜单切换 "复制单元格" 或 "智能填充" 模式。
- [x] **表头编辑**: 双击表头重命名列。
- [x] **矩形选区**: Shift+Click 支持矩形区域选中。

## 📅 下一步计划 (Upcoming)

### 性能与其他
- [ ] **性能优化**: 针对超大文件（10万行+）的进一步优化。
- [ ] **搜索增强**: 正则表达式高亮预览。

### 表格增强
- [ ] **Toggle 列编辑**: 布尔列 (0/1, true/false) 显示复选框 UI，点击快速切换值。
  - 自动检测布尔列 + 手动配置
  - 持久化 Toggle 列配置

---
> 💡 这是一个持续更新的文档。你可以在任何时候通过 `npm run dev` 运行应用并在此验证上述已勾选的功能。
